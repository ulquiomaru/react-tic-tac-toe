{"version":3,"sources":["components/InputSettings.js","components/Square.js","components/Board.js","components/Game.js","components/App.js","index.js"],"names":["InputSettings","props","htmlFor","name","label","type","id","className","value","onChange","Square","winner","onClick","Board","size","Math","sqrt","squares","length","renderSquare","i","winningSquares","includes","key","board","row","boardRow","col","push","Game","status","nSquares","pow","boardSize","winningCombinations","match","rows","columns","diagonals","threshold","x","column","diagonal","getTicTacToeCombinations","useState","Array","fill","lastMove","history","setHistory","stepNumber","setStepNumber","ascendingOrder","setAscendingOrder","xIsNext","calculateWinner","line","player","boardLine","map","index","set","Set","current","moves","h","step","desc","style","fontWeight","sort","a","b","slice","floor","concat","handleClick","start","App","setBoardSize","setMatch","e","val","target","parseInt","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.3c3db521.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function InputSettings(props) {\n  return (\n    <>\n      <label htmlFor={props.name}>{props.label}</label>\n      <input\n        type=\"number\"\n        id={props.name}\n        name={props.name}\n        className=\"size-input\"\n        value={props.value}\n        onChange={props.onChange}\n      />{\" \"}\n    </>\n  );\n}\n","import React from \"react\";\n\nexport default function Square(props) {\n  return (\n    <button\n      className={props.winner ? \"square highlighted\" : \"square\"}\n      onClick={props.onClick}\n    >\n      {props.value}\n    </button>\n  );\n}\n","import React from \"react\";\nimport Square from \"./Square\";\n\nexport default function Board(props) {\n  const size = Math.sqrt(props.squares.length);\n\n  const renderSquare = (i) => {\n    return (\n      <Square\n        value={props.squares[i]}\n        onClick={() => props.onClick(i)}\n        winner={props.winningSquares ? props.winningSquares.includes(i) : null}\n        key={i}\n      />\n    );\n  };\n\n  const board = [];\n  for (let row = 0; row < size; row++) {\n    let boardRow = [];\n    for (let col = row * size; col < size * (row + 1); col++) {\n      boardRow.push(renderSquare(col));\n    }\n    board.push(\n      <div className=\"board-row\" key={row}>\n        {boardRow}\n      </div>\n    );\n  }\n\n  return <div>{board}</div>;\n}\n","import React, { useState } from \"react\";\nimport Board from \"./Board\";\n\nexport default function Game(props) {\n  const nSquares = Math.pow(props.boardSize, 2);\n\n  const winningCombinations = getTicTacToeCombinations(\n    props.boardSize,\n    props.match\n  );\n\n  const getInitialBoard = () => {\n    return [\n      {\n        squares: Array(Math.pow(props.boardSize, 2)).fill(null),\n        lastMove: [],\n      },\n    ];\n  };\n\n  const [history, setHistory] = useState(getInitialBoard());\n  const [stepNumber, setStepNumber] = useState(0);\n  const [ascendingOrder, setAscendingOrder] = useState(true);\n\n  const xIsNext = () => stepNumber % 2 === 0;\n\n  const calculateWinner = (squares) => {\n    for (let i = 0; i < winningCombinations.length; i++) {\n      const line = winningCombinations[i];\n      const player = squares[line[0]];\n      if (!player) continue;\n      const boardLine = line.map((index) => squares[index]);\n      const set = [...new Set(boardLine)];\n      if (set.length === 1 && set[0] === player)\n        return { player: squares[line[0]], winningSquares: line };\n    }\n    return null;\n  };\n\n  const handleClick = (i) => {\n    const h = history.slice(0, stepNumber + 1);\n    const current = h[h.length - 1];\n    const squares = current.squares.slice();\n    if (calculateWinner(squares) || squares[i]) return;\n    squares[i] = xIsNext() ? \"X\" : \"O\";\n    const row = Math.floor(i / props.boardSize);\n    const col = i % props.boardSize;\n    setHistory(\n      h.concat([\n        {\n          squares: squares,\n          lastMove: [row, col],\n        },\n      ])\n    );\n    setStepNumber(h.length);\n  };\n\n  const current = history[stepNumber];\n  const winner = calculateWinner(current.squares);\n\n  const moves = history.map((h, step) => {\n    const desc = step\n      ? `Go to move #${step} (${h.lastMove[0]}, ${h.lastMove[1]})`\n      : \"Go to game start\";\n    return (\n      <li key={step}>\n        <button\n          style={\n            stepNumber === step\n              ? { fontWeight: \"bold\" }\n              : { fontWeight: \"normal\" }\n          }\n          onClick={() => setStepNumber(step)}\n        >\n          {desc}\n        </button>\n      </li>\n    );\n  });\n\n  if (!ascendingOrder) moves.sort((a, b) => b.key - a.key);\n\n  let status;\n  if (winner) {\n    status = \"Winner: \" + winner.player;\n  } else if (nSquares === stepNumber) {\n    status = \"Game ended in a DRAW\";\n  } else {\n    status = \"Next player: \" + (xIsNext() ? \"X\" : \"O\");\n  }\n\n  return (\n    <div className=\"game\">\n      <div className=\"game-board\">\n        <Board\n          squares={current.squares}\n          onClick={(i) => handleClick(i)}\n          winningSquares={winner ? winner.winningSquares : null}\n        />\n      </div>\n      <div className=\"game-info\">\n        <div>\n          <i\n            className={ascendingOrder ? \"arrow up\" : \"arrow down\"}\n            onClick={() => setAscendingOrder(!ascendingOrder)}\n          />\n        </div>\n        <div>{status}</div>\n        <ol start={0}>{moves}</ol>\n      </div>\n    </div>\n  );\n}\n\nfunction getTicTacToeCombinations(size, match) {\n  let rows = [];\n  let columns = [];\n  let diagonals = [];\n  const threshold = size - match;\n\n  for (let col = 0; col < size; col++) {\n    for (let row = 0; row < size; row++) {\n      let x = col + row * size;\n      if (col <= threshold) {\n        let row = [];\n        for (let i = 0; i < match; i++) {\n          row.push(x + i);\n        }\n        rows.push(row);\n      }\n      if (row <= threshold) {\n        let column = [];\n        for (let i = 0; i < match; i++) {\n          column.push(x + i * size);\n        }\n        columns.push(column);\n        if (col >= match - 1) {\n          let diagonal = [];\n          for (let i = 0; i < match; i++) {\n            diagonal.push(x - i + i * size);\n          }\n          diagonals.push(diagonal);\n        }\n        if (col <= threshold) {\n          let diagonal = [];\n          for (let i = 0; i < match; i++) {\n            diagonal.push(x + i + i * size);\n          }\n          diagonals.push(diagonal);\n        }\n      }\n    }\n  }\n\n  return [...rows, ...columns, ...diagonals];\n}\n","import React, { useState } from \"react\";\nimport InputSettings from \"./InputSettings\";\nimport Game from \"./Game\";\n\nexport default function App() {\n  const [boardSize, setBoardSize] = useState(3);\n  const [match, setMatch] = useState(3);\n\n  const changeBoardSize = (e) => {\n    const val = e.target.value;\n    if (val < 3) return;\n    setBoardSize(parseInt(val));\n    if (val < match) setMatch(val);\n  };\n\n  const changeMatchCondition = (e) => {\n    const val = e.target.value;\n    if (val >= 3 && val <= boardSize) setMatch(parseInt(val));\n  };\n\n  return (\n    <>\n      <InputSettings\n        name=\"boardSize\"\n        label=\"Board Size:\"\n        value={boardSize}\n        onChange={changeBoardSize}\n      />\n      <InputSettings\n        name=\"winCondition\"\n        label=\"Win Condition:\"\n        value={match}\n        onChange={changeMatchCondition}\n      />\n      <Game key={`${boardSize},${match}`} boardSize={boardSize} match={match} />\n    </>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./style/index.css\";\n\nconst rootElement = document.getElementById(\"root\");\n\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}